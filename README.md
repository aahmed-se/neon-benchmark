# neon_ops: High-Performance SIMD Array Operations for Apple Silicon

NeonOps is a high-performance, header-only Python extension written in C++23 that accelerates common array operationsâ€”addition, multiplication, and scalingâ€”using NEON SIMD instructions on ARM-based Apple M-series processors (M1, M2, M3, M4).


## ðŸ“¦ Installation

```bash
pip install -r requirements.txt
```

## Run Benchmark

```bash
python benchmark.py 
```

## Sample results
```
                                 Performance Summary                                 
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚      Size â”‚ Operation â”‚ Implementation â”‚ Time (Âµs) â”‚ Throughput (GB/s) â”‚ MOps/sec â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       100 â”‚ add       â”‚ python         â”‚      3.52 â”‚              0.11 â”‚     0.28 â”‚
â”‚       100 â”‚ add       â”‚ numpy          â”‚      0.29 â”‚              1.38 â”‚     3.44 â”‚
â”‚       100 â”‚ add       â”‚ neon           â”‚      0.90 â”‚              0.44 â”‚     1.11 â”‚
â”‚       100 â”‚ multiply  â”‚ python         â”‚      3.09 â”‚              0.13 â”‚     0.32 â”‚
â”‚       100 â”‚ multiply  â”‚ numpy          â”‚      0.28 â”‚              1.42 â”‚     3.56 â”‚
â”‚       100 â”‚ multiply  â”‚ neon           â”‚      0.90 â”‚              0.45 â”‚     1.12 â”‚
â”‚       100 â”‚ scale     â”‚ python         â”‚      2.14 â”‚              0.19 â”‚     0.47 â”‚
â”‚       100 â”‚ scale     â”‚ numpy          â”‚      0.52 â”‚              0.77 â”‚     1.93 â”‚
â”‚       100 â”‚ scale     â”‚ neon           â”‚      0.66 â”‚              0.61 â”‚     1.52 â”‚
â”‚     1,000 â”‚ add       â”‚ python         â”‚     29.02 â”‚              0.14 â”‚     0.03 â”‚
â”‚     1,000 â”‚ add       â”‚ numpy          â”‚      0.39 â”‚             10.38 â”‚     2.59 â”‚
â”‚     1,000 â”‚ add       â”‚ neon           â”‚      1.05 â”‚              3.79 â”‚     0.95 â”‚
â”‚     1,000 â”‚ multiply  â”‚ python         â”‚     27.76 â”‚              0.14 â”‚     0.04 â”‚
â”‚     1,000 â”‚ multiply  â”‚ numpy          â”‚      0.38 â”‚             10.39 â”‚     2.60 â”‚
â”‚     1,000 â”‚ multiply  â”‚ neon           â”‚      0.98 â”‚              4.10 â”‚     1.02 â”‚
â”‚     1,000 â”‚ scale     â”‚ python         â”‚     18.79 â”‚              0.21 â”‚     0.05 â”‚
â”‚     1,000 â”‚ scale     â”‚ numpy          â”‚      0.63 â”‚              6.35 â”‚     1.59 â”‚
â”‚     1,000 â”‚ scale     â”‚ neon           â”‚      0.72 â”‚              5.58 â”‚     1.40 â”‚
â”‚    10,000 â”‚ add       â”‚ python         â”‚    284.14 â”‚              0.14 â”‚     0.00 â”‚
â”‚    10,000 â”‚ add       â”‚ numpy          â”‚      1.03 â”‚             38.76 â”‚     0.97 â”‚
â”‚    10,000 â”‚ add       â”‚ neon           â”‚     47.01 â”‚              0.85 â”‚     0.02 â”‚
â”‚    10,000 â”‚ multiply  â”‚ python         â”‚    284.35 â”‚              0.14 â”‚     0.00 â”‚
â”‚    10,000 â”‚ multiply  â”‚ numpy          â”‚      1.02 â”‚             39.23 â”‚     0.98 â”‚
â”‚    10,000 â”‚ multiply  â”‚ neon           â”‚     43.12 â”‚              0.93 â”‚     0.02 â”‚
â”‚    10,000 â”‚ scale     â”‚ python         â”‚    188.83 â”‚              0.21 â”‚     0.01 â”‚
â”‚    10,000 â”‚ scale     â”‚ numpy          â”‚      1.11 â”‚             35.97 â”‚     0.90 â”‚
â”‚    10,000 â”‚ scale     â”‚ neon           â”‚     42.57 â”‚              0.94 â”‚     0.02 â”‚
â”‚   100,000 â”‚ add       â”‚ python         â”‚   2855.87 â”‚              0.14 â”‚     0.00 â”‚
â”‚   100,000 â”‚ add       â”‚ numpy          â”‚     12.74 â”‚             31.40 â”‚     0.08 â”‚
â”‚   100,000 â”‚ add       â”‚ neon           â”‚    117.66 â”‚              3.40 â”‚     0.01 â”‚
â”‚   100,000 â”‚ multiply  â”‚ python         â”‚   2795.39 â”‚              0.14 â”‚     0.00 â”‚
â”‚   100,000 â”‚ multiply  â”‚ numpy          â”‚     11.90 â”‚             33.62 â”‚     0.08 â”‚
â”‚   100,000 â”‚ multiply  â”‚ neon           â”‚    119.04 â”‚              3.36 â”‚     0.01 â”‚
â”‚   100,000 â”‚ scale     â”‚ python         â”‚   1817.02 â”‚              0.22 â”‚     0.00 â”‚
â”‚   100,000 â”‚ scale     â”‚ numpy          â”‚      9.41 â”‚             42.52 â”‚     0.11 â”‚
â”‚   100,000 â”‚ scale     â”‚ neon           â”‚    122.96 â”‚              3.25 â”‚     0.01 â”‚
â”‚ 1,000,000 â”‚ add       â”‚ python         â”‚  30940.94 â”‚              0.13 â”‚     0.00 â”‚
â”‚ 1,000,000 â”‚ add       â”‚ numpy          â”‚    332.15 â”‚             12.04 â”‚     0.00 â”‚
â”‚ 1,000,000 â”‚ add       â”‚ neon           â”‚    220.94 â”‚             18.10 â”‚     0.00 â”‚
â”‚ 1,000,000 â”‚ multiply  â”‚ python         â”‚  30024.23 â”‚              0.13 â”‚     0.00 â”‚
â”‚ 1,000,000 â”‚ multiply  â”‚ numpy          â”‚    317.78 â”‚             12.59 â”‚     0.00 â”‚
â”‚ 1,000,000 â”‚ multiply  â”‚ neon           â”‚    220.37 â”‚             18.15 â”‚     0.00 â”‚
â”‚ 1,000,000 â”‚ scale     â”‚ python         â”‚  19923.41 â”‚              0.20 â”‚     0.00 â”‚
â”‚ 1,000,000 â”‚ scale     â”‚ numpy          â”‚    297.80 â”‚             13.43 â”‚     0.00 â”‚
â”‚ 1,000,000 â”‚ scale     â”‚ neon           â”‚    210.48 â”‚             19.00 â”‚     0.00 â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Speedup Analysis (relative to Python)
                    Speedup Factors                     
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚      Size â”‚ Operation â”‚ NumPy Speedup â”‚ NEON Speedup â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       100 â”‚ add       â”‚        12.11x â”‚        3.91x â”‚
â”‚       100 â”‚ multiply  â”‚        10.99x â”‚        3.45x â”‚
â”‚       100 â”‚ scale     â”‚         4.13x â”‚        3.25x â”‚
â”‚     1,000 â”‚ add       â”‚        75.31x â”‚       27.53x â”‚
â”‚     1,000 â”‚ multiply  â”‚        72.13x â”‚       28.44x â”‚
â”‚     1,000 â”‚ scale     â”‚        29.82x â”‚       26.21x â”‚
â”‚    10,000 â”‚ add       â”‚       275.30x â”‚        6.04x â”‚
â”‚    10,000 â”‚ multiply  â”‚       278.87x â”‚        6.59x â”‚
â”‚    10,000 â”‚ scale     â”‚       169.78x â”‚        4.44x â”‚
â”‚   100,000 â”‚ add       â”‚       224.17x â”‚       24.27x â”‚
â”‚   100,000 â”‚ multiply  â”‚       234.98x â”‚       23.48x â”‚
â”‚   100,000 â”‚ scale     â”‚       193.14x â”‚       14.78x â”‚
â”‚ 1,000,000 â”‚ add       â”‚        93.15x â”‚      140.04x â”‚
â”‚ 1,000,000 â”‚ multiply  â”‚        94.48x â”‚      136.24x â”‚
â”‚ 1,000,000 â”‚ scale     â”‚        66.90x â”‚       94.66x â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```
